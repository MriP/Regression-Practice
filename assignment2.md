
# Determine if the suicide rate is affected by the alcohol consumption

## Data

Data for this study comes from the Gapminder World Dataset collected by the Gapminder Foundation. The Gapminder World Dataset contains data collected from more than 200 countries/areas for more 500 variables.

## Description of Variables

For this study "**Alcohol Consumption**" is the explanatory variable and "**No of suicides**" is the response variable. Below is the description of both the variables

1. Alcohol consumption (variable code: alcconsumption, Unit: Litres) - Alcohol consumed in litres by an adult.
2. No of suicides (variable code: suicideper100th, Unit: Numbers per 100K) - No of suicides per 100K.

### Import the libraries and loading the data into a pandas dataframe


```python
import numpy as np
import pandas as pd
import statsmodels.api
import statsmodels.formula.api as smf
import seaborn as seaborn

# bug fix for display formats to avoid run time errors
pd.set_option('display.float_format', lambda x:'%.3f'%x)

# Loading the data 
data = pd.read_csv('gapminder.csv')


```

### Converting variables to numeric


```python
# convert variables to numeric format using convert_objects function
data['alcconsumption'] = pd.to_numeric(data['alcconsumption'], errors='coerce')
data['suicideper100th'] = pd.to_numeric(data['suicideper100th'], errors='coerce')
```

### First few observations of the dataset


```python
data.head()
```




<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>country</th>
      <th>incomeperperson</th>
      <th>alcconsumption</th>
      <th>armedforcesrate</th>
      <th>breastcancerper100th</th>
      <th>co2emissions</th>
      <th>femaleemployrate</th>
      <th>hivrate</th>
      <th>internetuserate</th>
      <th>lifeexpectancy</th>
      <th>oilperperson</th>
      <th>polityscore</th>
      <th>relectricperperson</th>
      <th>suicideper100th</th>
      <th>employrate</th>
      <th>urbanrate</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Afghanistan</td>
      <td></td>
      <td>0.030</td>
      <td>.5696534</td>
      <td>26.8</td>
      <td>75944000</td>
      <td>25.6000003814697</td>
      <td></td>
      <td>3.65412162280064</td>
      <td>48.673</td>
      <td></td>
      <td>0</td>
      <td></td>
      <td>6.684</td>
      <td>55.7000007629394</td>
      <td>24.04</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Albania</td>
      <td>1914.99655094922</td>
      <td>7.290</td>
      <td>1.0247361</td>
      <td>57.4</td>
      <td>223747333.333333</td>
      <td>42.0999984741211</td>
      <td></td>
      <td>44.9899469578783</td>
      <td>76.918</td>
      <td></td>
      <td>9</td>
      <td>636.341383366604</td>
      <td>7.699</td>
      <td>51.4000015258789</td>
      <td>46.72</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Algeria</td>
      <td>2231.99333515006</td>
      <td>0.690</td>
      <td>2.306817</td>
      <td>23.5</td>
      <td>2932108666.66667</td>
      <td>31.7000007629394</td>
      <td>.1</td>
      <td>12.5000733055148</td>
      <td>73.131</td>
      <td>.42009452521537</td>
      <td>2</td>
      <td>590.509814347428</td>
      <td>4.849</td>
      <td>50.5</td>
      <td>65.22</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Andorra</td>
      <td>21943.3398976022</td>
      <td>10.170</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>81</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>5.362</td>
      <td></td>
      <td>88.92</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Angola</td>
      <td>1381.00426770244</td>
      <td>5.570</td>
      <td>1.4613288</td>
      <td>23.1</td>
      <td>248358000</td>
      <td>69.4000015258789</td>
      <td>2</td>
      <td>9.99995388324075</td>
      <td>51.093</td>
      <td></td>
      <td>-2</td>
      <td>172.999227388199</td>
      <td>14.555</td>
      <td>75.6999969482422</td>
      <td>56.7</td>
    </tr>
  </tbody>
</table>
</div>



### Centering the explanatory variable - Alcohol Consumption


```python
# Calculating the mean alcohol consumption

mean_alc_consumption = data['alcconsumption'].mean()

print("Mean Alcohol consumption is (in Liters) : ", mean_alc_consumption)

```

    Mean Alcohol consumption is (in Liters) :  6.68941176471
    


```python
# Creating a new column for alcohol consumption which is centered
# Generated by subtracting the column variables from its mean.
data['centered_alc_consump'] = data['alcconsumption'] - mean_alc_consumption
```

### View of the data now


```python
data.head()
```




<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>country</th>
      <th>incomeperperson</th>
      <th>alcconsumption</th>
      <th>armedforcesrate</th>
      <th>breastcancerper100th</th>
      <th>co2emissions</th>
      <th>femaleemployrate</th>
      <th>hivrate</th>
      <th>internetuserate</th>
      <th>lifeexpectancy</th>
      <th>oilperperson</th>
      <th>polityscore</th>
      <th>relectricperperson</th>
      <th>suicideper100th</th>
      <th>employrate</th>
      <th>urbanrate</th>
      <th>centered_alc_consump</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Afghanistan</td>
      <td></td>
      <td>0.030</td>
      <td>.5696534</td>
      <td>26.8</td>
      <td>75944000</td>
      <td>25.6000003814697</td>
      <td></td>
      <td>3.65412162280064</td>
      <td>48.673</td>
      <td></td>
      <td>0</td>
      <td></td>
      <td>6.684</td>
      <td>55.7000007629394</td>
      <td>24.04</td>
      <td>-6.659</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Albania</td>
      <td>1914.99655094922</td>
      <td>7.290</td>
      <td>1.0247361</td>
      <td>57.4</td>
      <td>223747333.333333</td>
      <td>42.0999984741211</td>
      <td></td>
      <td>44.9899469578783</td>
      <td>76.918</td>
      <td></td>
      <td>9</td>
      <td>636.341383366604</td>
      <td>7.699</td>
      <td>51.4000015258789</td>
      <td>46.72</td>
      <td>0.601</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Algeria</td>
      <td>2231.99333515006</td>
      <td>0.690</td>
      <td>2.306817</td>
      <td>23.5</td>
      <td>2932108666.66667</td>
      <td>31.7000007629394</td>
      <td>.1</td>
      <td>12.5000733055148</td>
      <td>73.131</td>
      <td>.42009452521537</td>
      <td>2</td>
      <td>590.509814347428</td>
      <td>4.849</td>
      <td>50.5</td>
      <td>65.22</td>
      <td>-5.999</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Andorra</td>
      <td>21943.3398976022</td>
      <td>10.170</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>81</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>5.362</td>
      <td></td>
      <td>88.92</td>
      <td>3.481</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Angola</td>
      <td>1381.00426770244</td>
      <td>5.570</td>
      <td>1.4613288</td>
      <td>23.1</td>
      <td>248358000</td>
      <td>69.4000015258789</td>
      <td>2</td>
      <td>9.99995388324075</td>
      <td>51.093</td>
      <td></td>
      <td>-2</td>
      <td>172.999227388199</td>
      <td>14.555</td>
      <td>75.6999969482422</td>
      <td>56.7</td>
      <td>-1.119</td>
    </tr>
  </tbody>
</table>
</div>



### Calculating the mean of the new column


```python
data['centered_alc_consump'].mean()
```




    1.8998468870590913e-17



**As can be seen from the above, the mean of the centered column is nearly zero (upto the precision of the machine)**

### Generating the Regression Model


```python
print ("OLS regression model for the association between urban rate and internet use rate")
reg_model = smf.ols(formula='suicideper100th ~ centered_alc_consump', data=data).fit()
print (reg_model.summary())

```

    OLS regression model for the association between urban rate and internet use rate
                                OLS Regression Results                            
    ==============================================================================
    Dep. Variable:        suicideper100th   R-squared:                       0.126
    Model:                            OLS   Adj. R-squared:                  0.121
    Method:                 Least Squares   F-statistic:                     26.33
    Date:                Mon, 20 Jun 2016   Prob (F-statistic):           7.32e-07
    Time:                        02:28:16   Log-Likelihood:                -590.18
    No. Observations:                 185   AIC:                             1184.
    Df Residuals:                     183   BIC:                             1191.
    Df Model:                           1                                         
    Covariance Type:            nonrobust                                         
    ========================================================================================
                               coef    std err          t      P>|t|      [95.0% Conf. Int.]
    ----------------------------------------------------------------------------------------
    Intercept                9.5966      0.435     22.086      0.000         8.739    10.454
    centered_alc_consump     0.4554      0.089      5.131      0.000         0.280     0.631
    ==============================================================================
    Omnibus:                       60.685   Durbin-Watson:                   2.025
    Prob(Omnibus):                  0.000   Jarque-Bera (JB):              147.636
    Skew:                           1.441   Prob(JB):                     8.74e-33
    Kurtosis:                       6.293   Cond. No.                         4.90
    ==============================================================================
    
    Warnings:
    [1] Standard Errors assume that the covariance matrix of the errors is correctly specified.
    

## Conclusion

The **F Statistic** is *7.32e-07* ls less than 0.05 (alpha level). This implies that we can **reject** the NULL hypothesis and conculude that the alcohol consumption is significantly associated with the suicide rate.

**Parameter Estimates**

*Intercept* is 9.5966 and the *coefficient* for the alcohol cosumption is 0.4554.

The equation for the best fit line is:

suicide rate = 9.5966 + 0.4554 * alcohol consumption

The results of the linear regression model indicate that alcohol cosumption (Beta=0.4554, p < .0001) is significantly and positively associated with number of suicides.


